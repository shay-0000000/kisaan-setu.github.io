<!DOCTYPE html>
<html lang="te">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∞ï‡∞ø‡∞∏‡∞æ‡∞®‡±ç ‡∞∏‡±á‡∞§‡±Å - ‡∞™‡∞Ç‡∞ü ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞ß‡∞æ‡∞∞‡∞£ ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡±ç‡∞•</title>
    <style>
        :root {
            --primary: #1b5e20;
            --secondary: #4caf50;
            --bg: #f4f7f4;
            --card: #ffffff;
            --weather: #0288d1;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background: var(--bg);
            color: #333;
            margin: 0;
            padding: 15px;
        }

        .app-container {
            max-width: 850px;
            margin: auto;
            background: var(--card);
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            background: var(--primary);
            color: white;
            padding: 25px;
            text-align: center;
        }

        .form-section {
            padding: 20px;
        }

        .subheading {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
            margin: 25px 0 10px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 5px;
        }

        .loc-weather-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .panel {
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #ccc;
            text-align: center;
        }

        .gps-panel {
            background: #e8f5e9;
        }

        .weather-panel {
            background: #e1f5fe;
            color: var(--weather);
        }

        .btn {
            width: 100%;
            padding: 14px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }

        .btn-gps {
            background: var(--primary);
            color: white;
        }

        .btn-diag {
            background: var(--primary);
            color: white;
            font-size: 1.3rem;
            margin-top: 25px;
            box-shadow: 0 4px 10px rgba(27, 94, 32, 0.3);
        }

        .symptoms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 10px;
        }

        .symp-item {
            display: flex;
            align-items: center;
            background: #fff;
            border: 1px solid #eee;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
        }

        .symp-item input {
            margin-right: 12px;
            width: 20px;
            height: 20px;
            accent-color: var(--primary);
        }

        #result {
            margin-top: 30px;
            display: none;
            padding: 25px;
            border-radius: 12px;
            border: 3px solid var(--primary);
            background: #fff;
        }

        .advice-box {
            background: #fff9c4;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 5px solid #fbc02d;
        }

        @media (max-width: 600px) {

            .loc-weather-container,
            .symptoms-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <div class="app-container">
        <header>
            <h1>üåæ ‡∞ï‡∞ø‡∞∏‡∞æ‡∞®‡±ç ‡∞∏‡±á‡∞§‡±Å</h1>
            <p>‡∞™‡∞Ç‡∞ü ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞ß‡∞æ‡∞∞‡∞£ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£ ‡∞∏‡∞≤‡∞π‡∞æ ‡∞ï‡±á‡∞Ç‡∞¶‡±ç‡∞∞‡∞Ç</p>
        </header>

        <div class="form-section">
            <div class="subheading">‡∞¶‡∞∂ 1: ‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£‡∞Ç</div>
            <div class="loc-weather-container">
                <div class="panel gps-panel">
                    <button class="btn btn-gps" onclick="getLocationData()">üìç ‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø</button>
                    <div id="cityTxt" style="margin-top:10px; font-weight:bold;">‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞Ç: ‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞≤‡±á‡∞¶‡±Å</div>
                </div>
                <div class="panel weather-panel">
                    <div style="font-size:0.8rem; font-weight:bold;">‡∞™‡±ç‡∞∞‡∞∏‡±ç‡∞§‡±Å‡∞§ ‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£‡∞Ç</div>
                    <div id="tempTxt" style="font-size:1.4rem; font-weight:bold; margin-top:5px;">--¬∞C</div>
                    <div id="condTxt">--</div>
                </div>
            </div>

            <div class="subheading">‡∞¶‡∞∂ 2: ‡∞Æ‡±Ä ‡∞™‡∞Ç‡∞ü‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</div>
            <select id="cropSelect"
                style="width:100%; padding:15px; border-radius:8px; border:1px solid #ccc; font-size: 1rem;">
                <option value="rice">‡∞µ‡∞∞‡∞ø (‡∞µ‡∞∞‡∞ø ‡∞™‡∞Ç‡∞ü)</option>
                <option value="wheat">‡∞ó‡±ã‡∞ß‡±Å‡∞Æ</option>
                <option value="maize">‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞ú‡±ä‡∞®‡±ç‡∞®</option>
                <option value="potato">‡∞¨‡∞Ç‡∞ó‡∞æ‡∞≥‡∞¶‡±Å‡∞Ç‡∞™</option>
                <option value="tomato">‡∞ü‡∞Æ‡±ã‡∞ü‡∞æ</option>
                <option value="cotton">‡∞™‡∞§‡±ç‡∞§‡∞ø</option>
            </select>

            <div class="subheading">‡∞¶‡∞∂ 3: ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞≤‡∞ï‡±ç‡∞∑‡∞£‡∞æ‡∞≤‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</div>
            <div id="sympGrid" class="symptoms-grid"></div>

            <button class="btn btn-diag" onclick="runDiagnosis()">üîç ‡∞™‡∞Ç‡∞ü ‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø</button>

            <div id="result">
                <h2 id="resTitle" style="margin-top:0; color:var(--primary); font-size: 1.5rem;"></h2>
                <p id="resMeta" style="font-style:italic; color:#666;"></p>
                <hr>
                <strong>‚úÖ ‡∞∏‡±Ç‡∞ö‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞®‡∞ø‡∞µ‡∞æ‡∞∞‡∞£ ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ó‡∞æ‡∞≤‡±Å:</strong>
                <ul id="resSols" style="line-height: 1.6; margin-top: 10px;"></ul>
                <div class="advice-box">
                    <strong>üí° ‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£ ‡∞∏‡∞≤‡∞π‡∞æ:</strong>
                    <p id="resAdv" style="margin-top: 5px;"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const symptomsList = [
            "‡∞Ü‡∞ï‡±Å‡∞≤‡±Å ‡∞™‡∞∏‡±Å‡∞™‡±Å ‡∞∞‡∞Ç‡∞ó‡±Å‡∞≤‡±ã‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡∞°‡∞Ç", "‡∞Ü‡∞ï‡±Å‡∞≤‡∞™‡±à ‡∞ó‡±ã‡∞ß‡±Å‡∞Æ ‡∞≤‡±á‡∞¶‡∞æ ‡∞®‡∞≤‡±Å‡∞™‡±Å ‡∞Æ‡∞ö‡±ç‡∞ö‡∞≤‡±Å", "‡∞Ü‡∞ï‡±Å‡∞≤‡∞™‡±à ‡∞§‡±Ü‡∞≤‡±ç‡∞≤‡∞ü‡∞ø ‡∞™‡±ä‡∞°‡∞ø ‡∞≤‡±á‡∞¶‡∞æ ‡∞¨‡±Ç‡∞ú‡±Å",
            "‡∞Ü‡∞ï‡±Å‡∞≤‡±Å ‡∞Æ‡±Å‡∞°‡±Å‡∞ö‡±Å‡∞ï‡±Å‡∞™‡±ã‡∞µ‡∞°‡∞Ç", "‡∞Ü‡∞ï‡±Å‡∞≤ ‡∞ö‡∞ø‡∞µ‡∞∞‡±ç‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞Ö‡∞Ç‡∞ö‡±Å‡∞≤‡±Å ‡∞é‡∞Ç‡∞°‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç", "‡∞Æ‡±ä‡∞§‡±ç‡∞§‡∞Ç ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï ‡∞µ‡∞æ‡∞°‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç",
            "‡∞™‡±Ü‡∞∞‡±Å‡∞ó‡±Å‡∞¶‡∞≤ ‡∞Ü‡∞ó‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç (‡∞Æ‡∞∞‡±Å‡∞ó‡±Å‡∞ú‡±ç‡∞ú‡±Å‡∞§‡∞®‡∞Ç)", "‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡∞ø‡∞® ‡∞™‡∞Ç‡∞°‡±ç‡∞≤‡±Å / ‡∞ó‡∞ø‡∞Ç‡∞ú‡∞≤‡±Å / ‡∞ï‡∞æ‡∞Ø‡∞≤‡±Å / ‡∞¶‡±Å‡∞Ç‡∞™‡∞≤‡±Å", "‡∞Ü‡∞ï‡±Å‡∞≤‡∞™‡±à ‡∞∞‡∞Ç‡∞ß‡±ç‡∞∞‡∞æ‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞ó‡∞æ‡∞Ø‡∞æ‡∞≤‡±Å",
            "‡∞Æ‡±ä‡∞ï‡±ç‡∞ï ‡∞≤‡±á‡∞¶‡∞æ ‡∞™‡∞Ç‡∞ü ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞¶‡±Å‡∞∞‡±ç‡∞µ‡∞æ‡∞∏‡∞®", "‡∞™‡±Ç‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞ï‡∞æ‡∞Ø‡∞≤‡±Å ‡∞∞‡∞æ‡∞≤‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç", "‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø / ‡∞ö‡∞ø‡∞®‡±ç‡∞® ‡∞∏‡±à‡∞ú‡±Å ‡∞™‡∞Ç‡∞ü",
            "‡∞Ü‡∞ï‡±Å‡∞≤‡±Å ‡∞∞‡∞æ‡∞≤‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç", "‡∞ï‡∞æ‡∞Ç‡∞°‡∞Ç ‡∞≤‡±á‡∞¶‡∞æ ‡∞ï‡∞æ‡∞Ø‡∞≤ ‡∞∞‡∞Ç‡∞ó‡±Å ‡∞Æ‡∞æ‡∞∞‡∞°‡∞Ç"
        ];

        const grid = document.getElementById('sympGrid');
        symptomsList.forEach(s => {
            grid.innerHTML += `<label class="symp-item"><input type="checkbox" class="sc" value="${s}"> ${s}</label>`;
        });

        let globalCity = "‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞≤‡±á‡∞¶‡±Å";

        async function getLocationData() {
            if (!navigator.geolocation) return alert("‡∞Æ‡±Ä ‡∞¨‡±ç‡∞∞‡±å‡∞ú‡∞∞‡±ç GPS ‡∞∏‡∞¶‡±Å‡∞™‡∞æ‡∞Ø‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡∞™‡±ã‡∞∞‡±ç‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç ‡∞≤‡±á‡∞¶‡±Å");
            navigator.geolocation.getCurrentPosition(async (p) => {
                const { latitude: lat, longitude: lon } = p.coords;
                try {
                    const wRes = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
                    const wData = await wRes.json();
                    document.getElementById('tempTxt').innerText = Math.round(wData.current_weather.temperature) + "¬∞C";
                    document.getElementById('condTxt').innerText = "‡∞ï‡∞®‡±Ü‡∞ï‡±ç‡∞∑‡∞®‡±ç ‡∞∏‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø";

                    const gRes = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                    const gData = await gRes.json();
                    globalCity = gData.address.city || gData.address.village || gData.address.state || "‡∞§‡±Ü‡∞≤‡∞ø‡∞∏‡∞ø‡∞® ‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞Ç";
                    document.getElementById('cityTxt').innerText = "üìç " + globalCity;
                } catch (e) { alert("‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡±Å ‡∞™‡±ä‡∞Ç‡∞¶‡∞°‡∞Ç‡∞≤‡±ã ‡∞µ‡∞ø‡∞´‡∞≤‡∞Æ‡±à‡∞Ç‡∞¶‡∞ø. ‡∞á‡∞Ç‡∞ü‡∞∞‡±ç‡∞®‡±Ü‡∞ü‡±ç ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø."); }
            });
        }

        const db = {
            rice: [
                { name: "‡∞Ö‡∞ó‡±ç‡∞ó‡∞ø ‡∞§‡±Ü‡∞ó‡±Å‡∞≤‡±Å (Leaf Blast)", symptoms: ["‡∞Ü‡∞ï‡±Å‡∞≤‡±Å ‡∞™‡∞∏‡±Å‡∞™‡±Å ‡∞∞‡∞Ç‡∞ó‡±Å‡∞≤‡±ã‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡∞°‡∞Ç", "‡∞Ü‡∞ï‡±Å‡∞≤‡∞™‡±à ‡∞ó‡±ã‡∞ß‡±Å‡∞Æ ‡∞≤‡±á‡∞¶‡∞æ ‡∞®‡∞≤‡±Å‡∞™‡±Å ‡∞Æ‡∞ö‡±ç‡∞ö‡∞≤‡±Å", "‡∞Ü‡∞ï‡±Å‡∞≤ ‡∞ö‡∞ø‡∞µ‡∞∞‡±ç‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞Ö‡∞Ç‡∞ö‡±Å‡∞≤‡±Å ‡∞é‡∞Ç‡∞°‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç"], solutions: ["‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞∏‡±ã‡∞ï‡∞ø‡∞® ‡∞Ü‡∞ï‡±Å‡∞≤‡∞®‡±Å ‡∞µ‡±Ü‡∞Ç‡∞ü‡∞®‡±á ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", "‡∞™‡±ç‡∞∞‡∞§‡∞ø 10 ‡∞∞‡±ã‡∞ú‡±Å‡∞≤‡∞ï‡±Å ‡∞í‡∞ï‡∞∏‡∞æ‡∞∞‡∞ø ‡∞ü‡±ç‡∞∞‡±à‡∞∏‡±à‡∞ï‡±ç‡∞≤‡∞æ‡∞ú‡±ã‡∞≤‡±ç ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", "‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤ ‡∞Æ‡∞ß‡±ç‡∞Ø ‡∞∏‡∞∞‡±à‡∞® ‡∞¶‡±Ç‡∞∞‡∞Ç ‡∞™‡∞æ‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", "‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞®‡∞æ‡∞≤‡∞®‡±Å ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø"], advice: { summer: "‡∞ï‡±ç‡∞∞‡∞Æ‡∞Ç ‡∞§‡∞™‡±ç‡∞™‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞®‡±Ä‡∞∞‡±Å ‡∞™‡±Ü‡∞ü‡±ç‡∞ü‡∞Ç‡∞°‡∞ø; ‡∞™‡±ä‡∞≤‡∞Ç ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø‡∞ó‡∞æ ‡∞é‡∞Ç‡∞°‡∞ø‡∞™‡±ã‡∞®‡∞ø‡∞µ‡±ç‡∞µ‡∞ï‡∞Ç‡∞°‡∞ø", monsoon: "‡∞®‡±Ä‡∞∞‡±Å ‡∞®‡∞ø‡∞≤‡±ç‡∞µ ‡∞â‡∞Ç‡∞°‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞ö‡±Ç‡∞∏‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø", winter: "‡∞ö‡∞≤‡∞ø‡∞®‡∞ø ‡∞§‡∞ü‡±ç‡∞ü‡±Å‡∞ï‡±Å‡∞®‡±á ‡∞∞‡∞ï‡∞æ‡∞≤‡∞®‡±Å ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø" } },
                { name: "‡∞é‡∞Ç‡∞°‡±Å ‡∞§‡±Ü‡∞ó‡±Å‡∞≤‡±Å (Leaf Blight)", symptoms: ["‡∞Ü‡∞ï‡±Å‡∞≤‡±Å ‡∞™‡∞∏‡±Å‡∞™‡±Å ‡∞∞‡∞Ç‡∞ó‡±Å‡∞≤‡±ã‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡∞°‡∞Ç", "‡∞Æ‡±ä‡∞§‡±ç‡∞§‡∞Ç ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï ‡∞µ‡∞æ‡∞°‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç", "‡∞Ü‡∞ï‡±Å‡∞≤ ‡∞ö‡∞ø‡∞µ‡∞∞‡±ç‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞Ö‡∞Ç‡∞ö‡±Å‡∞≤‡±Å ‡∞é‡∞Ç‡∞°‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç"], solutions: ["‡∞∏‡±ã‡∞ï‡∞ø‡∞® ‡∞Ü‡∞ï‡±Å‡∞≤‡∞®‡±Å ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", "‡∞ï‡∞æ‡∞™‡∞∞‡±ç ‡∞Ü‡∞ï‡±ç‡∞∏‡∞ø‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡±à‡∞°‡±ç ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", "‡∞ï‡∞≤‡±Å‡∞™‡±Å ‡∞≤‡±á‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞ö‡±Ç‡∞∏‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø"], advice: { summer: "‡∞∏‡∞∞‡±à‡∞® ‡∞®‡±Ä‡∞ü‡∞ø ‡∞™‡∞æ‡∞∞‡±Å‡∞¶‡∞≤ ‡∞Ö‡∞Ç‡∞¶‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", monsoon: "‡∞®‡±Ä‡∞∞‡±Å ‡∞®‡∞ø‡∞≤‡±ç‡∞µ ‡∞â‡∞Ç‡∞°‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞ï‡∞æ‡∞≤‡±Å‡∞µ‡∞≤‡±Å ‡∞è‡∞∞‡±ç‡∞™‡∞æ‡∞ü‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", winter: "‡∞®‡∞ø‡∞∞‡±ã‡∞ß‡∞ï ‡∞∞‡∞ï‡∞æ‡∞≤‡∞®‡±Å ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø" } }
            ],
            wheat: [
                { name: "‡∞§‡±Å‡∞™‡±ç‡∞™‡±Å ‡∞§‡±Ü‡∞ó‡±Å‡∞≤‡±Å (Rust)", symptoms: ["‡∞Ü‡∞ï‡±Å‡∞≤‡∞™‡±à ‡∞ó‡±ã‡∞ß‡±Å‡∞Æ ‡∞≤‡±á‡∞¶‡∞æ ‡∞®‡∞≤‡±Å‡∞™‡±Å ‡∞Æ‡∞ö‡±ç‡∞ö‡∞≤‡±Å", "‡∞Ü‡∞ï‡±Å‡∞≤‡±Å ‡∞™‡∞∏‡±Å‡∞™‡±Å ‡∞∞‡∞Ç‡∞ó‡±Å‡∞≤‡±ã‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡∞°‡∞Ç"], solutions: ["‡∞™‡±ç‡∞∞‡±ä‡∞™‡∞ø‡∞ï‡±ã‡∞®‡∞ú‡±ã‡∞≤‡±ç ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", "‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞∏‡±ã‡∞ï‡∞ø‡∞® ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤‡∞®‡±Å ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø"], advice: { summer: "‡∞≠‡±Ç‡∞Æ‡∞ø‡∞®‡∞ø ‡∞∏‡∞ø‡∞¶‡±ç‡∞ß‡∞Ç ‡∞ö‡±á‡∞∏‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø", monsoon: "‡∞®‡±Ä‡∞∞‡±Å ‡∞®‡∞ø‡∞≤‡±ç‡∞µ ‡∞â‡∞Ç‡∞°‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø", winter: "‡∞∏‡∞∞‡±à‡∞® ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞Ç‡∞°‡∞ø; ‡∞Æ‡∞Ç‡∞ö‡±Å ‡∞™‡∞∞‡∞ø‡∞∏‡±ç‡∞•‡∞ø‡∞§‡±Å‡∞≤‡∞™‡±à ‡∞®‡∞ø‡∞ò‡∞æ ‡∞â‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø" } }
            ],
            maize: [
                { name: "‡∞ï‡∞æ‡∞Ç‡∞°‡∞Ç ‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡±Å (Stem Rot)", symptoms: ["‡∞Æ‡±ä‡∞§‡±ç‡∞§‡∞Ç ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï ‡∞µ‡∞æ‡∞°‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç", "‡∞Æ‡±ä‡∞ï‡±ç‡∞ï ‡∞≤‡±á‡∞¶‡∞æ ‡∞™‡∞Ç‡∞ü ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞¶‡±Å‡∞∞‡±ç‡∞µ‡∞æ‡∞∏‡∞®"], solutions: ["‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡∞ø‡∞® ‡∞ï‡∞æ‡∞Ç‡∞°‡∞æ‡∞≤‡∞®‡±Å ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", "‡∞∂‡∞ø‡∞≤‡±Ä‡∞Ç‡∞ß‡±ç‡∞∞‡∞®‡∞æ‡∞∂‡∞®‡∞ø ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", "‡∞®‡±Ä‡∞ü‡∞ø ‡∞™‡∞æ‡∞∞‡±Å‡∞¶‡∞≤ ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±Å‡∞™‡∞∞‡∞ö‡∞Ç‡∞°‡∞ø"], advice: { summer: "‡∞∏‡∞∞‡±à‡∞® ‡∞§‡±á‡∞Æ‡∞®‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", monsoon: "‡∞®‡±Ä‡∞ü‡∞ø ‡∞®‡∞ø‡∞≤‡±ç‡∞µ‡∞®‡±Å ‡∞®‡∞ø‡∞µ‡∞æ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", winter: "‡∞®‡∞ø‡∞∞‡±ã‡∞ß‡∞ï ‡∞∞‡∞ï‡∞æ‡∞≤‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø" } }
            ],
            potato: [
                { name: "‡∞≤‡±á‡∞ü‡±Å ‡∞¨‡±ç‡∞≤‡±à‡∞ü‡±ç (Late Blight)", symptoms: ["‡∞Ü‡∞ï‡±Å‡∞≤‡∞™‡±à ‡∞ó‡±ã‡∞ß‡±Å‡∞Æ ‡∞≤‡±á‡∞¶‡∞æ ‡∞®‡∞≤‡±Å‡∞™‡±Å ‡∞Æ‡∞ö‡±ç‡∞ö‡∞≤‡±Å", "‡∞Ü‡∞ï‡±Å‡∞≤‡∞™‡±à ‡∞§‡±Ü‡∞≤‡±ç‡∞≤‡∞ü‡∞ø ‡∞™‡±ä‡∞°‡∞ø ‡∞≤‡±á‡∞¶‡∞æ ‡∞¨‡±Ç‡∞ú‡±Å", "‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡∞ø‡∞® ‡∞™‡∞Ç‡∞°‡±ç‡∞≤‡±Å / ‡∞ó‡∞ø‡∞Ç‡∞ú‡∞≤‡±Å / ‡∞ï‡∞æ‡∞Ø‡∞≤‡±Å / ‡∞¶‡±Å‡∞Ç‡∞™‡∞≤‡±Å"], solutions: ["‡∞∏‡±ã‡∞ï‡∞ø‡∞® ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤‡∞®‡±Å ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", "‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡±ã‡∞•‡∞≤‡±ã‡∞®‡∞ø‡∞≤‡±ç ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", "‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞¶‡±Å‡∞Ç‡∞™‡∞≤‡∞®‡±Å ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø"], advice: { summer: "‡∞¶‡±Å‡∞Ç‡∞™‡∞≤‡∞®‡±Å ‡∞∏‡∞∞‡∞ø‡∞ó‡±ç‡∞ó‡∞æ ‡∞®‡∞ø‡∞≤‡±ç‡∞µ ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", monsoon: "‡∞®‡±Ä‡∞∞‡±Å ‡∞®‡∞ø‡∞≤‡±ç‡∞µ ‡∞â‡∞Ç‡∞°‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø", winter: "‡∞®‡∞ø‡∞∞‡∞Ç‡∞§‡∞∞‡∞Ç ‡∞®‡∞ø‡∞ò‡∞æ ‡∞â‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø" } }
            ],
            tomato: [
                { name: "‡∞Ü‡∞ï‡±Å ‡∞Æ‡±Å‡∞°‡∞§ ‡∞§‡±Ü‡∞ó‡±Å‡∞≤‡±Å (Leaf Curl)", symptoms: ["‡∞Ü‡∞ï‡±Å‡∞≤‡±Å ‡∞Æ‡±Å‡∞°‡±Å‡∞ö‡±Å‡∞ï‡±Å‡∞™‡±ã‡∞µ‡∞°‡∞Ç", "‡∞Ü‡∞ï‡±Å‡∞≤‡±Å ‡∞™‡∞∏‡±Å‡∞™‡±Å ‡∞∞‡∞Ç‡∞ó‡±Å‡∞≤‡±ã‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡∞°‡∞Ç", "‡∞™‡±Ü‡∞∞‡±Å‡∞ó‡±Å‡∞¶‡∞≤ ‡∞Ü‡∞ó‡∞ø‡∞™‡±ã‡∞µ‡∞°‡∞Ç"], solutions: ["‡∞∏‡±ã‡∞ï‡∞ø‡∞® ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤‡∞®‡±Å ‡∞™‡±Ä‡∞ï‡∞ø‡∞µ‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", "‡∞§‡±Ü‡∞≤‡±ç‡∞≤ ‡∞¶‡±ã‡∞Æ‡∞®‡±Å ‡∞®‡∞ø‡∞µ‡∞æ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞™‡±Å‡∞∞‡±Å‡∞ó‡±Å‡∞≤ ‡∞Æ‡∞Ç‡∞¶‡±Å ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø", "‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞®‡∞æ‡∞∞‡±Å ‡∞®‡∞æ‡∞ü‡∞Ç‡∞°‡∞ø"], advice: { summer: "‡∞®‡±Ä‡∞° ‡∞ï‡∞≤‡±ç‡∞™‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", monsoon: "‡∞®‡±Ä‡∞ü‡∞ø ‡∞®‡∞ø‡∞≤‡±ç‡∞µ ‡∞≤‡±á‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø", winter: "‡∞Æ‡∞Ç‡∞ö‡±Å ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞∞‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø" } }
            ],
            cotton: [
                { name: "‡∞ï‡∞æ‡∞Ø ‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡±Å (Boll Rot)", symptoms: ["‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡∞ø‡∞® ‡∞™‡∞Ç‡∞°‡±ç‡∞≤‡±Å / ‡∞ó‡∞ø‡∞Ç‡∞ú‡∞≤‡±Å / ‡∞ï‡∞æ‡∞Ø‡∞≤‡±Å / ‡∞¶‡±Å‡∞Ç‡∞™‡∞≤‡±Å", "‡∞Æ‡±ä‡∞ï‡±ç‡∞ï ‡∞≤‡±á‡∞¶‡∞æ ‡∞™‡∞Ç‡∞ü ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞¶‡±Å‡∞∞‡±ç‡∞µ‡∞æ‡∞∏‡∞®"], solutions: ["‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡∞ø‡∞® ‡∞ï‡∞æ‡∞Ø‡∞≤‡∞®‡±Å ‡∞µ‡±Ü‡∞Ç‡∞ü‡∞®‡±á ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", "‡∞ï‡∞æ‡∞∞‡±ç‡∞¨‡±Ü‡∞Ç‡∞°‡∞ú‡∞ø‡∞Æ‡±ç ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø"], advice: { summer: "‡∞∏‡∞Æ‡∞Ø‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞®‡±Ä‡∞∞‡±Å ‡∞™‡±Ü‡∞ü‡±ç‡∞ü‡∞Ç‡∞°‡∞ø", monsoon: "‡∞ó‡∞æ‡∞≤‡∞ø ‡∞µ‡±Ü‡∞≤‡±Å‡∞§‡±Å‡∞∞‡±Å ‡∞∏‡±ã‡∞ï‡±á‡∞≤‡∞æ ‡∞¶‡±Ç‡∞∞‡∞Ç ‡∞™‡∞æ‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", winter: "‡∞∏‡∞∞‡±à‡∞® ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞ï‡±ã‡∞§ ‡∞ï‡±ã‡∞Ø‡∞Ç‡∞°‡∞ø" } }
            ]
        };

        function runDiagnosis() {
            const crop = document.getElementById('cropSelect').value;
            const selected = Array.from(document.querySelectorAll('.sc:checked')).map(i => i.value);
            if (selected.length === 0) return alert("‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ï‡∞®‡±Ä‡∞∏‡∞Ç ‡∞í‡∞ï ‡∞≤‡∞ï‡±ç‡∞∑‡∞£‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø.");

            const month = new Date().getMonth();
            const season = (month >= 2 && month <= 5) ? "summer" : (month >= 6 && month <= 9) ? "monsoon" : "winter";

            let bestMatch = null;
            let maxScore = 0;

            (db[crop] || []).forEach(d => {
                let score = d.symptoms.filter(s => selected.includes(s)).length;
                if (score > maxScore) {
                    maxScore = score;
                    bestMatch = d;
                }
            });

            const resDiv = document.getElementById('result');
            resDiv.style.display = "block";

            if (bestMatch && maxScore >= 1) {
                document.getElementById('resTitle').innerText = "‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞ß‡∞æ‡∞∞‡∞£: " + bestMatch.name;
                document.getElementById('resMeta').innerText = `‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞Ç: ${globalCity} | ‡∞™‡±ç‡∞∞‡∞∏‡±ç‡∞§‡±Å‡∞§ ‡∞ï‡∞æ‡∞≤‡∞Ç: ${season === 'summer' ? '‡∞µ‡±á‡∞∏‡∞µ‡∞ø' : season === 'monsoon' ? '‡∞µ‡∞∞‡±ç‡∞∑‡∞æ‡∞ï‡∞æ‡∞≤‡∞Ç' : '‡∞∂‡±Ä‡∞§‡∞æ‡∞ï‡∞æ‡∞≤‡∞Ç'}`;

                const solUl = document.getElementById('resSols');
                solUl.innerHTML = "";
                bestMatch.solutions.forEach(s => solUl.innerHTML += `<li>${s}</li>`);
                document.getElementById('resAdv').innerText = bestMatch.advice[season];
            } else {
                document.getElementById('resTitle').innerText = "‡∞∏‡±ç‡∞™‡∞∑‡±ç‡∞ü‡∞Ç‡∞ó‡∞æ ‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞≤‡±á‡∞¶‡±Å";
                document.getElementById('resMeta').innerText = "‡∞Æ‡±Ä‡∞∞‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±Å‡∞®‡±ç‡∞® ‡∞≤‡∞ï‡±ç‡∞∑‡∞£‡∞æ‡∞≤‡±Å ‡∞è ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø‡∞§‡±ã‡∞®‡±Ç ‡∞∏‡∞∞‡∞ø‡∞™‡±ã‡∞≤‡∞≤‡±á‡∞¶‡±Å.";
                document.getElementById('resSols').innerHTML = "<li>‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞®‡±Å ‡∞®‡∞ø‡∞∂‡∞ø‡∞§‡∞Ç‡∞ó‡∞æ ‡∞™‡∞∞‡∞ø‡∞∂‡±Ä‡∞≤‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.</li><li>‡∞™‡±Å‡∞∞‡±Å‡∞ó‡±Å‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞®‡±Ä‡∞ü‡∞ø ‡∞é‡∞¶‡±ç‡∞¶‡∞°‡∞ø ‡∞â‡∞Ç‡∞¶‡±á‡∞Æ‡±ã ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø.</li><li>‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø‡∞æ‡∞ß‡∞ø‡∞ï‡∞æ‡∞∞‡∞ø‡∞®‡∞ø ‡∞∏‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.</li>";
                document.getElementById('resAdv').innerText = "‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£ ‡∞∏‡∞≤‡∞π‡∞æ: ‡∞™‡±ä‡∞≤‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞∂‡±Å‡∞≠‡±ç‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Ö‡∞®‡±Å‡∞ó‡±Å‡∞£‡∞Ç‡∞ó‡∞æ ‡∞®‡±Ä‡∞ü‡∞ø ‡∞§‡∞°‡±Å‡∞≤‡±Å ‡∞á‡∞µ‡±ç‡∞µ‡∞Ç‡∞°‡∞ø.";
            }
            resDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>

</html>