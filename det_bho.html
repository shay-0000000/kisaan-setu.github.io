<!DOCTYPE html>
<html lang="bho">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡•á‡§§‡•Å - ‡§´‡§∏‡§≤ ‡§¨‡•á‡§Æ‡§æ‡§∞‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä</title>
    <style>
        :root {
            --primary: #1b5e20;
            --secondary: #4caf50;
            --bg: #f4f7f4;
            --card: #ffffff;
            --weather: #0288d1;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background: var(--bg);
            color: #333;
            margin: 0;
            padding: 15px;
        }

        .app-container {
            max-width: 850px;
            margin: auto;
            background: var(--card);
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            background: var(--primary);
            color: white;
            padding: 25px;
            text-align: center;
        }

        .form-section {
            padding: 20px;
        }

        .subheading {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
            margin: 25px 0 10px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 5px;
        }

        .loc-weather-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .panel {
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #ccc;
            text-align: center;
        }

        .gps-panel {
            background: #e8f5e9;
        }

        .weather-panel {
            background: #e1f5fe;
            color: var(--weather);
        }

        .btn {
            width: 100%;
            padding: 14px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }

        .btn-gps {
            background: var(--primary);
            color: white;
        }

        .btn-diag {
            background: var(--primary);
            color: white;
            font-size: 1.3rem;
            margin-top: 25px;
            box-shadow: 0 4px 10px rgba(27, 94, 32, 0.3);
        }

        .symptoms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 10px;
        }

        .symp-item {
            display: flex;
            align-items: center;
            background: #fff;
            border: 1px solid #eee;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
        }

        .symp-item input {
            margin-right: 12px;
            width: 22px;
            height: 22px;
            accent-color: var(--primary);
        }

        #result {
            margin-top: 30px;
            display: none;
            padding: 25px;
            border-radius: 12px;
            border: 3px solid var(--primary);
            background: #fff;
        }

        .advice-box {
            background: #fff9c4;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 5px solid #fbc02d;
        }

        @media (max-width: 600px) {

            .loc-weather-container,
            .symptoms-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <div class="app-container">
        <header>
            <h1>üåæ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡•á‡§§‡•Å</h1>
            <p>‡§∞‡§â‡§Ü ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§°‡•â‡§ï‡•ç‡§ü‡§∞ - ‡§¨‡•á‡§Æ‡§æ‡§∞‡•Ä ‡§™‡§π‡§ö‡§æ‡§®‡•Ä‡§Ç ‡§Ö‡§â‡§∞‡•Ä ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§™‡§æ‡§Ø‡•Ä‡§Ç</p>
        </header>

        <div class="form-section">
            <div class="subheading">‡§ï‡§¶‡§Æ 1: ‡§ú‡§ó‡§π ‡§Ö‡§â‡§∞‡•Ä ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•á ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</div>
            <div class="loc-weather-container">
                <div class="panel gps-panel">
                    <button class="btn btn-gps" onclick="getLocationData()">üìç ‡§Ü‡§™‡§® ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§ñ‡•ã‡§ú‡•Ä‡§Ç</button>
                    <div id="cityTxt" style="margin-top:10px; font-weight:bold;">‡§≤‡•ã‡§ï‡•á‡§∂‡§®: ‡§Ö‡§≠‡•Ä ‡§®‡§à‡§ñ‡•á ‡§Æ‡§ø‡§≤‡§≤</div>
                </div>
                <div class="panel weather-panel">
                    <div style="font-size:0.8rem; font-weight:bold;">‡§≤‡§æ‡§á‡§µ ‡§Æ‡•å‡§∏‡§Æ</div>
                    <div id="tempTxt" style="font-size:1.4rem; font-weight:bold; margin-top:5px;">--¬∞C</div>
                    <div id="condTxt">--</div>
                </div>
            </div>

            <div class="subheading">‡§ï‡§¶‡§Æ 2: ‡§Ü‡§™‡§® ‡§´‡§∏‡§≤ ‡§ö‡•Å‡§®‡•Ä‡§Ç</div>
            <select id="cropSelect"
                style="width:100%; padding:15px; border-radius:8px; border:1px solid #ccc; font-size: 1.1rem;">
                <option value="rice">‡§ß‡§æ‡§®</option>
                <option value="wheat">‡§ó‡•á‡§π‡•Ç‡§Å</option>
                <option value="maize">‡§Æ‡§ï‡•ç‡§ï‡§æ (‡§ú‡§®‡§∞‡•á)</option>
                <option value="potato">‡§Ü‡§≤‡•Ç</option>
                <option value="tomato">‡§ü‡§Æ‡§æ‡§ü‡§∞</option>
                <option value="cotton">‡§ï‡§™‡§æ‡§∏</option>
            </select>

            <div class="subheading">‡§ï‡§¶‡§Æ 3: ‡§´‡§∏‡§≤ ‡§Æ‡•á‡§Ç ‡§ï‡§æ ‡§≤‡§â‡§ï‡§§‡§æ? (‡§≤‡§ï‡•ç‡§∑‡§£ ‡§ö‡•Å‡§®‡•Ä‡§Ç)</div>
            <div id="sympGrid" class="symptoms-grid"></div>

            <button class="btn btn-diag" onclick="runDiagnosis()">üîç ‡§¨‡•á‡§Æ‡§æ‡§∞‡•Ä ‡§ï‡•á ‡§ú‡§æ‡§Å‡§ö ‡§ï‡§∞‡•Ä‡§Ç</button>

            <div id="result">
                <h2 id="resTitle" style="margin-top:0; color:var(--primary); font-size: 1.6rem;"></h2>
                <p id="resMeta" style="font-style:italic; color:#666;"></p>
                <hr>
                <strong>‚úÖ ‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§ï‡•á ‡§∏‡§≤‡§æ‡§π (‡§á‡§≤‡§æ‡§ú):</strong>
                <ul id="resSols" style="line-height: 1.8; margin-top: 10px; font-size: 1.1rem;"></ul>
                <div class="advice-box">
                    <strong>üí° ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§∏‡§≤‡§æ‡§π:</strong>
                    <p id="resAdv" style="margin-top: 5px; font-size: 1rem;"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const symptomsList = [
            "‡§™‡§§‡•ç‡§§‡§æ ‡§™‡•Ä‡§Ø‡§∞ (‡§™‡•Ä‡§≤‡§æ) ‡§π‡•ã‡§ñ‡§≤", "‡§™‡§§‡•ç‡§§‡§æ ‡§™‡§∞ ‡§≠‡•Ç‡§Ö‡§∞ ‡§ö‡§æ‡§π‡•á ‡§ï‡§∞‡§ø‡§Ø‡§æ ‡§¶‡§æ‡§ó", "‡§™‡§§‡•ç‡§§‡§æ ‡§™‡§∞ ‡§â‡§ú‡•ç‡§ú‡§∞ ‡§™‡§æ‡§â‡§°‡§∞ ‡§®‡§ø‡§Ø‡§∞ ‡§´‡§´‡•Ç‡§Ç‡§¶",
            "‡§™‡§§‡•ç‡§§‡§æ ‡§ï‡•á ‡§Æ‡•Å‡§∞‡§ù‡•à‡§≤ ‡§ö‡§æ‡§π‡•á ‡§ê‡§Ç‡§†‡§≤", "‡§™‡§§‡•ç‡§§‡§æ ‡§ï‡•á ‡§®‡•ã‡§ñ ‡§ö‡§æ‡§π‡•á ‡§ï‡•ã‡§®‡§æ ‡§∏‡•Å‡§ñ‡§≤", "‡§™‡•Ç‡§∞‡§æ ‡§™‡•å‡§ß‡§æ ‡§ï‡•á ‡§Æ‡•Å‡§∞‡§ù‡§æ ‡§ó‡§á‡§≤",
            "‡§¨‡§¢‡§º‡§µ‡§æ‡§∞ ‡§∞‡•Å‡§ï ‡§ó‡§á‡§≤ (‡§¨‡•å‡§®‡§æ‡§™‡§®)", "‡§´‡§≤ / ‡§Ö‡§®‡§æ‡§ú / ‡§ï‡§Ç‡§¶ ‡§ï‡•á ‡§∏‡§°‡§º‡§≤", "‡§™‡§§‡•ç‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§õ‡•á‡§¶ ‡§π‡•ã‡§ñ‡§≤",
            "‡§™‡•å‡§ß‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ó‡§Æ‡§ï (‡§Æ‡§π‡§ï) ‡§Ü‡§á‡§≤", "‡§´‡•Ç‡§≤ ‡§ö‡§æ‡§π‡•á ‡§´‡§≤ ‡§ï‡•á ‡§ó‡§ø‡§∞‡§≤", "‡§™‡•à‡§¶‡§æ‡§µ‡§æ‡§∞ ‡§ï‡§Æ ‡§π‡•ã‡§ñ‡§≤",
            "‡§™‡§§‡•ç‡§§‡§æ ‡§ï‡•á ‡§ù‡§°‡§º‡§≤", "‡§§‡§®‡§æ ‡§ö‡§æ‡§π‡•á ‡§ó‡•Ç‡§≤‡§∞ ‡§ï‡•á ‡§∞‡§Ç‡§ó ‡§¨‡§¶‡§≤‡§≤"
        ];

        const grid = document.getElementById('sympGrid');
        symptomsList.forEach(s => {
            grid.innerHTML += `<label class="symp-item"><input type="checkbox" class="sc" value="${s}"> ${s}</label>`;
        });

        let globalCity = "‡§Æ‡•à‡§®‡•Å‡§Ö‡§≤";

        async function getLocationData() {
            if (!navigator.geolocation) return alert("‡§∞‡§â‡§Ü ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ GPS ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§®‡§à‡§ñ‡•á ‡§ï‡§∞‡§§");
            navigator.geolocation.getCurrentPosition(async (p) => {
                const { latitude: lat, longitude: lon } = p.coords;
                try {
                    const wRes = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
                    const wData = await wRes.json();
                    document.getElementById('tempTxt').innerText = Math.round(wData.current_weather.temperature) + "¬∞C";
                    document.getElementById('condTxt').innerText = "‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ö‡§æ‡§≤‡•Ç ‡§¨‡§æ";

                    const gRes = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                    const gData = await gRes.json();
                    globalCity = gData.address.city || gData.address.state || "‡§ó‡§æ‡§Å‡§µ-‡§ú‡§µ‡§æ‡§∞";
                    document.getElementById('cityTxt').innerText = "üìç " + globalCity;
                } catch (e) { alert("‡§°‡§æ‡§ü‡§æ ‡§®‡§à‡§ñ‡•á ‡§Æ‡§ø‡§≤‡§§‡•§ ‡§®‡•á‡§ü ‡§ö‡•á‡§ï ‡§ï‡§∞‡•Ä‡§Ç‡•§"); }
            });
        }

        const db = {
            rice: [
                { name: "‡§™‡§§‡•ç‡§§‡§æ ‡§ù‡•Å‡§≤‡§∏‡§æ (Leaf Blast)", symptoms: ["‡§™‡§§‡•ç‡§§‡§æ ‡§™‡•Ä‡§Ø‡§∞ (‡§™‡•Ä‡§≤‡§æ) ‡§π‡•ã‡§ñ‡§≤", "‡§™‡§§‡•ç‡§§‡§æ ‡§™‡§∞ ‡§≠‡•Ç‡§Ö‡§∞ ‡§ö‡§æ‡§π‡•á ‡§ï‡§∞‡§ø‡§Ø‡§æ ‡§¶‡§æ‡§ó", "‡§™‡§§‡•ç‡§§‡§æ ‡§ï‡•á ‡§®‡•ã‡§ñ ‡§ö‡§æ‡§π‡•á ‡§ï‡•ã‡§®‡§æ ‡§∏‡•Å‡§ñ‡§≤"], solutions: ["‡§¨‡•á‡§Æ‡§æ‡§∞ ‡§™‡§§‡•ç‡§§‡§æ ‡§ï‡•á ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§ï‡§æ‡§ü ‡§ï‡•á ‡§π‡§ü‡§æ ‡§¶‡•Ä‡§Ç", "‡§π‡§∞ 10 ‡§¶‡§ø‡§® ‡§™‡§∞ ‡§ü‡•ç‡§∞‡§æ‡§à‡§∏‡§æ‡§á‡§ï‡•ç‡§≤‡§æ‡§ú‡§º‡•ã‡§≤ ‡§ï‡•á ‡§õ‡§ø‡§°‡§º‡§ï‡§æ‡§µ ‡§ï‡§∞‡•Ä‡§Ç", "‡§™‡•å‡§ß‡§æ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§Æ‡•á‡§Ç ‡§ñ‡§æ‡§≤‡•Ä ‡§ú‡§ó‡§π ‡§∞‡§æ‡§ñ‡•Ä‡§Ç", "‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ ‡§¨‡•Ä‡§Ø‡§æ ‡§ï‡•á ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤ ‡§ï‡§∞‡•Ä‡§Ç"], advice: { summer: "‡§∞‡•ã‡§ú ‡§™‡§æ‡§®‡•Ä ‡§¶‡•Ä‡§Ç; ‡§ñ‡•á‡§§ ‡§ï‡•á ‡§∏‡•Å‡§ñ‡•á ‡§Æ‡§§ ‡§¶‡•Ä‡§Ç", monsoon: "‡§™‡§æ‡§®‡•Ä ‡§®‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•á ‡§∞‡§∏‡•ç‡§§‡§æ ‡§¨‡§®‡§æ‡§á‡§Ø; ‡§ú‡§≤‡§ú‡§Æ‡§æ‡§µ ‡§Æ‡§§ ‡§π‡•ã‡§ñ‡•á ‡§¶‡•Ä‡§Ç", winter: "‡§†‡§Ç‡§¢‡§æ ‡§∏‡§π‡•á ‡§µ‡§æ‡§≤‡§æ ‡§¨‡•Ä‡§Ø‡§æ ‡§≤‡§ó‡§æ‡§á‡§Ø" } },
                { name: "‡§™‡§§‡•ç‡§§‡§æ ‡§¨‡•ç‡§≤‡§æ‡§á‡§ü", symptoms: ["‡§™‡§§‡•ç‡§§‡§æ ‡§™‡•Ä‡§Ø‡§∞ (‡§™‡•Ä‡§≤‡§æ) ‡§π‡•ã‡§ñ‡§≤", "‡§™‡•Ç‡§∞‡§æ ‡§™‡•å‡§ß‡§æ ‡§ï‡•á ‡§Æ‡•Å‡§∞‡§ù‡§æ ‡§ó‡§á‡§≤", "‡§™‡§§‡•ç‡§§‡§æ ‡§ï‡•á ‡§®‡•ã‡§ñ ‡§ö‡§æ‡§π‡•á ‡§ï‡•ã‡§®‡§æ ‡§∏‡•Å‡§ñ‡§≤"], solutions: ["‡§¨‡•á‡§Æ‡§æ‡§∞ ‡§™‡§§‡•ç‡§§‡§æ ‡§π‡§ü‡§æ ‡§¶‡•Ä‡§Ç", "‡§ï‡•â‡§™‡§∞ ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ï‡•ç‡§≤‡•ã‡§∞‡§æ‡§á‡§° ‡§ï‡•á ‡§õ‡§ø‡§°‡§º‡§ï‡§æ‡§µ ‡§ï‡§∞‡•Ä‡§Ç", "‡§ñ‡•á‡§§ ‡§Æ‡•á‡§Ç ‡§ò‡§æ‡§∏-‡§™‡§æ‡§§ ‡§Æ‡§§ ‡§π‡•ã‡§ñ‡•á ‡§¶‡•Ä‡§Ç"], advice: { summer: "‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§ï‡•á ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§∞‡§æ‡§ñ‡•Ä‡§Ç", monsoon: "‡§ñ‡•á‡§§ ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§®‡•Ä ‡§Æ‡§§ ‡§∞‡•Å‡§ï‡•á ‡§¶‡•Ä‡§Ç", winter: "‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ ‡§¨‡•Ä‡§Ø‡§æ ‡§ö‡•Å‡§®‡•Ä‡§Ç" } }
            ],
            potato: [
                { name: "‡§™‡§õ‡•Å‡§Ü ‡§ù‡•Å‡§≤‡§∏‡§æ (Late Blight)", symptoms: ["‡§™‡§§‡•ç‡§§‡§æ ‡§™‡§∞ ‡§≠‡•Ç‡§Ö‡§∞ ‡§ö‡§æ‡§π‡•á ‡§ï‡§∞‡§ø‡§Ø‡§æ ‡§¶‡§æ‡§ó", "‡§™‡§§‡•ç‡§§‡§æ ‡§™‡§∞ ‡§â‡§ú‡•ç‡§ú‡§∞ ‡§™‡§æ‡§â‡§°‡§∞ ‡§®‡§ø‡§Ø‡§∞ ‡§´‡§´‡•Ç‡§Ç‡§¶", "‡§´‡§≤ / ‡§Ö‡§®‡§æ‡§ú / ‡§ï‡§Ç‡§¶ ‡§ï‡•á ‡§∏‡§°‡§º‡§≤"], solutions: ["‡§¨‡•á‡§Æ‡§æ‡§∞ ‡§™‡•å‡§ß‡§æ ‡§ï‡•á ‡§â‡§ñ‡§æ‡§°‡§º ‡§ï‡•á ‡§´‡•á‡§Ç‡§ï ‡§¶‡•Ä‡§Ç", "‡§ï‡•ç‡§≤‡•ã‡§∞‡•ã‡§•‡•à‡§≤‡•ã‡§®‡§ø‡§≤ ‡§ï‡•á ‡§õ‡§ø‡§°‡§º‡§ï‡§æ‡§µ ‡§ï‡§∞‡•Ä‡§Ç", "‡§∏‡§æ‡§´ ‡§∏‡•Å‡§•‡§∞‡§æ ‡§Ü‡§≤‡•Ç ‡§ï‡•á ‡§¨‡•Ä‡§Ø‡§æ ‡§¨‡•ã‡§á‡§Ø"], advice: { summer: "‡§Ü‡§≤‡•Ç ‡§ï‡•á ‡§∏‡§π‡•Ä ‡§ú‡§ó‡§π ‡§∞‡§æ‡§ñ‡•Ä‡§Ç", monsoon: "‡§ñ‡•á‡§§ ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§®‡•Ä ‡§Æ‡§§ ‡§∞‡•Å‡§ï‡•á ‡§¶‡•Ä‡§Ç", winter: "‡§∞‡•ã‡§ú ‡§ñ‡•á‡§§ ‡§¶‡•á‡§ñ‡§§ ‡§∞‡§π‡•Ä‡§Ç" } }
            ],
            tomato: [
                { name: "‡§™‡§§‡•ç‡§§‡§æ ‡§Æ‡•Å‡§°‡§º‡§≤ ‡§¨‡•á‡§Æ‡§æ‡§∞‡•Ä (Leaf Curl)", symptoms: ["‡§™‡§§‡•ç‡§§‡§æ ‡§ï‡•á ‡§Æ‡•Å‡§∞‡§ù‡•à‡§≤ ‡§ö‡§æ‡§π‡•á ‡§ê‡§Ç‡§†‡§≤", "‡§™‡§§‡•ç‡§§‡§æ ‡§™‡•Ä‡§Ø‡§∞ (‡§™‡•Ä‡§≤‡§æ) ‡§π‡•ã‡§ñ‡§≤", "‡§¨‡§¢‡§º‡§µ‡§æ‡§∞ ‡§∞‡•Å‡§ï ‡§ó‡§á‡§≤ (‡§¨‡•å‡§®‡§æ‡§™‡§®)"], solutions: ["‡§¨‡•á‡§Æ‡§æ‡§∞ ‡§™‡•å‡§ß‡§æ ‡§â‡§ñ‡§æ‡§°‡§º ‡§¶‡•Ä‡§Ç", "‡§∏‡§´‡•á‡§¶ ‡§Æ‡§ï‡•ç‡§ñ‡•Ä ‡§∞‡•ã‡§ï‡•á ‡§µ‡§æ‡§≤‡§æ ‡§¶‡§µ‡§æ‡§à ‡§õ‡§ø‡§°‡§º‡§ï‡•Ä‡§Ç", "‡§®‡§Ø‡§æ ‡§Ö‡§â‡§∞‡•Ä ‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§™‡•å‡§ß‡§æ ‡§≤‡§ó‡§æ‡§á‡§Ø"], advice: { summer: "‡§™‡•å‡§ß‡§æ ‡§ï‡•á ‡§ò‡§æ‡§Æ ‡§∏‡•á ‡§¨‡§ö‡§æ‡§à‡§Ç", monsoon: "‡§™‡§æ‡§®‡•Ä ‡§®‡§ø‡§ï‡§æ‡§∏ ‡§∏‡§π‡•Ä ‡§∞‡§æ‡§ñ‡•Ä‡§Ç", winter: "‡§™‡§æ‡§≤‡§æ ‡§∏‡•á ‡§¨‡§ö‡§æ‡§µ‡§≤ ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§¨‡§æ" } }
            ],
            cotton: [
                { name: "‡§ó‡•Ç‡§≤‡§∞ ‡§∏‡§°‡§º‡§® (Boll Rot)", symptoms: ["‡§´‡§≤ / ‡§Ö‡§®‡§æ‡§ú / ‡§ï‡§Ç‡§¶ ‡§ï‡•á ‡§∏‡§°‡§º‡§≤", "‡§™‡•å‡§ß‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ó‡§Æ‡§ï (‡§Æ‡§π‡§ï) ‡§Ü‡§á‡§≤", "‡§™‡•à‡§¶‡§æ‡§µ‡§æ‡§∞ ‡§ï‡§Æ ‡§π‡•ã‡§ñ‡§≤"], solutions: ["‡§∏‡§°‡§º‡§≤ ‡§ó‡•Ç‡§≤‡§∞ ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§π‡§ü‡§æ ‡§¶‡•Ä‡§Ç", "‡§ï‡§æ‡§∞‡•ç‡§¨‡•á‡§®‡•ç‡§°‡§æ‡§ú‡§ø‡§Æ ‡§ï‡•á ‡§õ‡§ø‡§°‡§º‡§ï‡§æ‡§µ ‡§ï‡§∞‡•Ä‡§Ç"], advice: { summer: "‡§™‡§æ‡§®‡•Ä ‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§¶‡•Ä‡§Ç", monsoon: "‡§π‡§µ‡§æ ‡§Ö‡§â‡§∞‡•Ä ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§ñ‡§æ‡§§‡§ø‡§∞ ‡§ú‡§ó‡§π ‡§∞‡§æ‡§ñ‡•Ä‡§Ç", winter: "‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§§‡•Å‡§°‡§º‡§æ‡§à ‡§ï‡§∞‡•Ä‡§Ç" } }
            ],
            maize: [
                { name: "‡§§‡§®‡§æ ‡§∏‡§°‡§º‡§® (Stem Rot)", symptoms: ["‡§™‡•Ç‡§∞‡§æ ‡§™‡•å‡§ß‡§æ ‡§ï‡•á ‡§Æ‡•Å‡§∞‡§ù‡§æ ‡§ó‡§á‡§≤", "‡§™‡•å‡§ß‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ó‡§Æ‡§ï (‡§Æ‡§π‡§ï) ‡§Ü‡§á‡§≤"], solutions: ["‡§∏‡§°‡§º‡§≤ ‡§§‡§®‡§æ ‡§π‡§ü‡§æ ‡§¶‡•Ä‡§Ç", "‡§´‡§´‡•Ç‡§Ç‡§¶‡§®‡§æ‡§∂‡§ï ‡§¶‡§µ‡§æ‡§à ‡§õ‡§ø‡§°‡§º‡§ï‡•Ä‡§Ç", "‡§ñ‡•á‡§§ ‡§ï‡•á ‡§™‡§æ‡§®‡•Ä ‡§®‡§ø‡§ï‡§æ‡§≤ ‡§¶‡•Ä‡§Ç"], advice: { summer: "‡§®‡§Æ‡•Ä ‡§¨‡§®‡§æ ‡§ï‡•á ‡§∞‡§æ‡§ñ‡•Ä‡§Ç", monsoon: "‡§ú‡§≤‡§ú‡§Æ‡§æ‡§µ ‡§Æ‡§§ ‡§π‡•ã‡§ñ‡•á ‡§¶‡•Ä‡§Ç", winter: "‡§∏‡§π‡•Ä ‡§¨‡•Ä‡§Ø‡§æ ‡§ö‡•Å‡§®‡•Ä‡§Ç" } }
            ],
            wheat: [
                { name: "‡§ó‡•á‡§∞‡•Å‡§Ü ‡§∞‡•ã‡§ó (Rust)", symptoms: ["‡§™‡§§‡•ç‡§§‡§æ ‡§™‡§∞ ‡§≠‡•Ç‡§Ö‡§∞ ‡§ö‡§æ‡§π‡•á ‡§ï‡§∞‡§ø‡§Ø‡§æ ‡§¶‡§æ‡§ó", "‡§™‡§§‡•ç‡§§‡§æ ‡§™‡•Ä‡§Ø‡§∞ (‡§™‡•Ä‡§≤‡§æ) ‡§π‡•ã‡§ñ‡§≤"], solutions: ["‡§™‡•ç‡§∞‡•ã‡§™‡•Ä‡§ï‡•ã‡§®‡§æ‡§ú‡§º‡•ã‡§≤ ‡§ï‡•á ‡§õ‡§ø‡§°‡§º‡§ï‡§æ‡§µ ‡§ï‡§∞‡•Ä‡§Ç", "‡§¨‡•á‡§Æ‡§æ‡§∞ ‡§™‡•å‡§ß‡§æ ‡§π‡§ü‡§æ ‡§¶‡•Ä‡§Ç"], advice: { summer: "‡§ñ‡•á‡§§ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡•Ä‡§Ç", monsoon: "‡§®‡§ø‡§ï‡§æ‡§∏ ‡§∏‡§π‡•Ä ‡§∞‡§æ‡§ñ‡•Ä‡§Ç", winter: "‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§¨‡•ã‡§Ü‡§à ‡§ï‡§∞‡•Ä‡§Ç" } }
            ]
        };

        function runDiagnosis() {
            const crop = document.getElementById('cropSelect').value;
            const selected = Array.from(document.querySelectorAll('.sc:checked')).map(i => i.value);
            if (selected.length === 0) return alert("‡§ï‡§Æ‡§§ ‡§ï‡§Æ ‡§è‡§ï‡§ó‡•ã ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§ö‡•Å‡§®‡•Ä‡§Ç!");

            const month = new Date().getMonth();
            const season = (month >= 2 && month <= 5) ? "summer" : (month >= 6 && month <= 9) ? "monsoon" : "winter";

            let bestMatch = null;
            let maxScore = 0;

            (db[crop] || []).forEach(d => {
                let score = d.symptoms.filter(s => selected.includes(s)).length;
                if (score > maxScore) {
                    maxScore = score;
                    bestMatch = d;
                }
            });

            const resDiv = document.getElementById('result');
            resDiv.style.display = "block";

            if (bestMatch && maxScore >= 1) {
                document.getElementById('resTitle').innerText = "‡§ú‡§æ‡§Å‡§ö ‡§ï‡•á ‡§®‡§§‡•Ä‡§ú‡§æ: " + bestMatch.name;
                document.getElementById('resMeta').innerText = `‡§ú‡§ó‡§π: ${globalCity} | ‡§Æ‡•å‡§∏‡§Æ: ${season === 'summer' ? '‡§ó‡§∞‡•ç‡§Æ‡•Ä' : season === 'monsoon' ? '‡§¨‡§∞‡§∏‡§æ‡§§' : '‡§ú‡§æ‡§°‡§º‡§æ'}`;

                const solUl = document.getElementById('resSols');
                solUl.innerHTML = "";
                bestMatch.solutions.forEach(s => solUl.innerHTML += `<li>${s}</li>`);
                document.getElementById('resAdv').innerText = bestMatch.advice[season];
            } else {
                document.getElementById('resTitle').innerText = "‡§¨‡§æ‡§§ ‡§∏‡§æ‡§´ ‡§®‡§à‡§ñ‡•á";
                document.getElementById('resMeta').innerText = "‡§ú‡§µ‡§® ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§∞‡§â‡§Ü ‡§ö‡•Å‡§®‡§≤‡•á ‡§¨‡§æ‡§®‡•Ä, ‡§ì‡§ï‡§∞‡§æ ‡§∏‡•á ‡§¨‡•á‡§Æ‡§æ‡§∞‡•Ä ‡§∏‡§æ‡§´ ‡§®‡§à‡§ñ‡•á ‡§¨‡•Å‡§ù‡§æ‡§§‡•§";
                document.getElementById('resSols').innerHTML = "<li>‡§™‡•å‡§ß‡§æ ‡§ï‡•á ‡§´‡•á‡§∞ ‡§∏‡•á ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§∏‡•á ‡§¶‡•á‡§ñ‡•Ä‡§Ç‡•§</li><li>‡§¶‡•á‡§ñ‡•Ä‡§Ç ‡§ï‡•Ä ‡§ï‡§µ‡§®‡•ã ‡§ï‡•Ä‡§°‡§º‡§æ ‡§§ ‡§®‡§à‡§ñ‡•á ‡§≤‡§æ‡§ó‡§≤‡•§</li><li>‡§®‡§ú‡§¶‡•Ä‡§ï‡•Ä ‡§ï‡•É‡§∑‡§ø ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§™‡§∞ ‡§¶‡§ø‡§ñ‡§æ‡§à‡§Ç‡•§</li>";
                document.getElementById('resAdv').innerText = "‡§Ü‡§Æ ‡§∏‡§≤‡§æ‡§π: ‡§ñ‡•á‡§§ ‡§ï‡•á ‡§∏‡§æ‡§´ ‡§∞‡§æ‡§ñ‡•Ä‡§Ç ‡§Ö‡§â‡§∞‡•Ä ‡§Æ‡•å‡§∏‡§Æ ‡§¶‡•á‡§ñ ‡§ï‡•á ‡§™‡§æ‡§®‡•Ä ‡§¶‡•Ä‡§Ç‡•§";
            }
            resDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>

</html>